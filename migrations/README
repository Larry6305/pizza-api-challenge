# ğŸ• Pizza Restaurant API

A RESTful API for managing pizza restaurants, pizzas, and their prices using Flask and SQLAlchemy. Built following the MVC architecture. No frontend included â€” use Postman or `curl` to test.

---

## ğŸ“ Project Structure

.
â”œâ”€â”€ server/
â”‚ â”œâ”€â”€ app.py # App setup and Flask factory
â”‚ â”œâ”€â”€ config.py # DB configuration
â”‚ â”œâ”€â”€ models/ # SQLAlchemy models
â”‚ â”‚ â”œâ”€â”€ restaurant.py
â”‚ â”‚ â”œâ”€â”€ pizza.py
â”‚ â”‚ â””â”€â”€ restaurant_pizza.py
â”‚ â”œâ”€â”€ controllers/ # Route handlers (controllers)
â”‚ â”‚ â”œâ”€â”€ restaurant_controller.py
â”‚ â”‚ â”œâ”€â”€ pizza_controller.py
â”‚ â”‚ â””â”€â”€ restaurant_pizza_controller.py
â”‚ â”œâ”€â”€ seed.py # Seed data
â”œâ”€â”€ migrations/ # DB migrations
â”œâ”€â”€ challenge-1-pizzas.postman_collection.json
â””â”€â”€ README.md

yaml
Copy
Edit

---

## âš™ï¸ Setup Instructions

### 1. Clone the repo

```bash
git clone https://github.com/your-username/pizza-api-challenge.git
cd pizza-api-challenge
2. Create virtual environment and install dependencies
bash
Copy
Edit
pipenv install flask flask_sqlalchemy flask_migrate
pipenv shell
3. Set up the database
bash
Copy
Edit
export FLASK_APP=server/app.py
flask db init
flask db migrate -m "Initial migration"
flask db upgrade
4. Seed the database
bash
Copy
Edit
python server/seed.py
5. Run the server
bash
Copy
Edit
flask run
ğŸ§ª Testing with Postman
Open Postman

Click Import

Upload challenge-1-pizzas.postman_collection.json

Use the collection to test all routes

You can also test endpoints with curl.

ğŸ“¬ API Endpoints Summary
GET /restaurants
Returns a list of all restaurants.

Example response:

json
Copy
Edit
[
  {
    "id": 1,
    "name": "Kiki's Pizza",
    "address": "123 Main St"
  }
]
GET /restaurants/<id>
Returns details of one restaurant and its pizzas.

If found:

json
Copy
Edit
{
  "id": 1,
  "name": "Kiki's Pizza",
  "address": "123 Main St",
  "pizzas": [
    {
      "id": 1,
      "name": "Margherita",
      "ingredients": "Tomato Sauce, Cheese, Basil"
    }
  ]
}
If not found:

json
Copy
Edit
{
  "error": "Restaurant not found"
}
DELETE /restaurants/<id>
Deletes a restaurant and all related restaurant-pizzas.

If successful:
204 No Content

If not found:

json
Copy
Edit
{
  "error": "Restaurant not found"
}
GET /pizzas
Returns a list of all pizzas.

Example:

json
Copy
Edit
[
  {
    "id": 1,
    "name": "Margherita",
    "ingredients": "Tomato Sauce, Cheese, Basil"
  }
]
POST /restaurant_pizzas
Creates a new association between a pizza and a restaurant.

Request body:

json
Copy
Edit
{
  "price": 5,
  "pizza_id": 1,
  "restaurant_id": 1
}
If successful:

json
Copy
Edit
{
  "id": 4,
  "price": 5,
  "pizza_id": 1,
  "restaurant_id": 1,
  "pizza": {
    "id": 1,
    "name": "Margherita",
    "ingredients": "Tomato Sauce, Cheese, Basil"
  },
  "restaurant": {
    "id": 1,
    "name": "Kiki's Pizza",
    "address": "123 Main St"
  }
}
If invalid:

json
Copy
Edit
{
  "errors": ["Price must be between 1 and 30"]
}
âœ… Validation Rules
price (in RestaurantPizza) must be between 1 and 30

GET and DELETE routes return 404 if the resource is not found

ğŸ§¼ Notes
Built using Flask + SQLAlchemy

Follows MVC structure

Database: SQLite (for local testing)

ğŸ“Œ Author
Larry | Phase 4 Student 